<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Retro Gry</title>
    <link rel="stylesheet" href="styles_index.css">
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

    <audio id="beepSound" preload="auto">
        <source src="beep.mp3" type="audio/mpeg">
        <source src="beep.ogg" type="audio/ogg">
        Twoja przeglądarka nie obsługuje audio.
    </audio>

    <audio id="backgroundMusic" autoplay loop>
        <source src="retro-game-arcade.mp3" type="audio/mpeg">
        Twoja przeglądarka nie obsługuje audio.
    </audio>
</head>
<body>
    <div class="container">
        <h1>Retro Gry</h1>
        <div class="game-buttons">
            <a href="snake.html" class="button">Wąż</a>
            <a href="hangman.html" class="button">Wisielec</a>
            <a href="pacman.html" class="button">Pac-Man</a>
            <a href="tetris.html" class="button">Tetris</a>
            <a href="rps.html" class="button">Kamień, Papier, Nożyce</a>
        </div>
        <button id="toggleSound" class="button">Wyłącz dźwięk</button>
    </div>

    <script>
        // Odtwarzanie dźwięku "bip" przy najeździe na przyciski
        const beepSound = document.getElementById('beepSound');
        const buttons = document.querySelectorAll('.button');

        // Funkcja do odtwarzania dźwięku
        function playBeep() {
            beepSound.currentTime = 0; // Rozpocznij dźwięk od początku
            beepSound.play().catch(error => {
                console.log('Odtwarzanie dźwięku nie powiodło się:', error);
            });
        }

        buttons.forEach(button => {
            button.addEventListener('mouseenter', playBeep);
        });

        // Zmienna do śledzenia stanu dźwięku
        const backgroundMusic = document.getElementById('backgroundMusic');
        let isSoundOn = true; // Dźwięk włączony domyślnie

        // Przełączanie dźwięku
        const toggleSoundButton = document.getElementById('toggleSound');
        
        toggleSoundButton.addEventListener('click', function() {
            if (isSoundOn) {
                backgroundMusic.pause(); // Zatrzymaj muzykę
                toggleSoundButton.textContent = 'Włącz dźwięk'; // Zmień tekst przycisku
            } else {
                backgroundMusic.play(); // Odtwórz muzykę
                toggleSoundButton.textContent = 'Wyłącz dźwięk'; // Zmień tekst przycisku
            }
            isSoundOn = !isSoundOn; // Zmień stan
        });

        // Odtwarzanie tła, gdy użytkownik wchodzi w interakcję ze stroną
        document.body.addEventListener('click', function() {
            // Odtwarza, tylko jeśli dźwięk jest włączony
            if (isSoundOn) {
                backgroundMusic.play().catch(error => {
                    console.log('Odtwarzanie muzyki w tle nie powiodło się:', error);
                });
            }
        });
    </script>
</body>
</html>
